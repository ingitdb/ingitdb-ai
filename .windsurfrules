# inGitDB — Windsurf AI Agent Rules
# Full guidelines: AGENTS.md (root of this repo)

## Project
inGitDB: open-source versioned database storing data in text files (JSON, YAML, CSV) with Git-based version control.
Organization: github.com/ingitdb | License: CC0 (this repo), MIT (implementations)

## This Repository
Documentation-only repo (ingitdb-ai). Contains planning artifacts — no application source code.

Key files:
- AGENTS.md — Central AI agent guidelines (READ THIS for full context)
- development-plan.md — 6 AI agents, prompts, 6-phase execution plan, tech stack, risks
- openapi-spec.yaml — Complete REST API spec (OpenAPI 3.0, 25+ endpoints)
- ingitdb-ts-architecture.md — TypeScript client design, fluent API, query builder
- github-actions-integration.md — CI/CD workflows, custom GitHub Actions

## Architecture
Components: ingitdb-server (REST API), ingitdb-ts (TS client), ingitdb-go (Go CLI), GitHub Actions (validation)
Storage: Git repositories with JSON/YAML/CSV files

## Tech Stack
Server: Node.js 18+/TypeScript or Go 1.21+, Express/Fastify or Gin/Echo, JWT auth
Client: TypeScript 5+, Rollup/tsup, Jest, ESLint+Prettier
CLI: Go 1.21+, go-git
CI/CD: GitHub Actions, Docker, @actions/core

## Constraints
- Do NOT create application source code (.ts, .go, .js) in this repo
- Do NOT modify openapi-spec.yaml unless explicitly instructed
- Reference existing docs instead of duplicating content
- Use relative links between documents
- Update SUMMARY.md when adding deliverables

## Code Conventions
TypeScript: strict mode, named exports, async/await, ESLint+Prettier, JSDoc on public APIs
Go: Effective Go, gofmt, table-driven tests, error wrapping with fmt.Errorf
YAML: 2-space indent, $ref for reusable schemas
Markdown: ATX headers, one sentence per line, Mermaid for diagrams, tables for data

## Git Workflow
Branches: main (stable), develop, feature/<name>, fix/<name>, docs/<name>, chore/<name>
Commits: Conventional Commits — <type>(<scope>): <description>
Types: feat, fix, docs, style, refactor, test, chore, perf
Scopes: api, server, client, actions, docs

## Quality Targets
Test coverage: 80%+ | API response p95: <100ms | Concurrent users: 1000+
Critical vulnerabilities: 0 | API uptime: 99.9% | Doc coverage: 100%

## AI Agent Roles (6 agents defined in development-plan.md)
1. API Architect — OpenAPI spec design
2. Server Backend Developer — Server implementation
3. TypeScript Client Developer — ingitdb-ts NPM package
4. Testing & QA Engineer — Test suites, contract tests
5. DevOps & Integration Engineer — GitHub Actions, Docker
6. Documentation Writer — Guides, API reference, tutorials

## Development Phases
Phase 1 (Wk 1-2): API Design | Phase 2 (Wk 3-6): Server
Phase 3 (Wk 5-7): TS Client | Phase 4 (Wk 7-8): GitHub Actions
Phase 5 (Wk 9-10): Docs | Phase 6 (Wk 11-12): Testing & Release

## Key Decisions
- Git as storage engine (native versioning)
- OpenAPI-first design (contract-driven)
- JWT authentication (stateless, scalable)
- Separate repos per component (independent release cycles)
- Text-file format (human-readable, Git-diffable)
